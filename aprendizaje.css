/* =====================
   THEME & TOKENS
   ===================== */
  :root{
   /* Light-first palette */
   --bg:#fafbff;
   --fg:#0f1320;
   --muted:#5d687d;
   --card:#ffffff;
   --glass:rgba(20,30,60,.06);
   --border:rgba(10,20,40,.10);

   /* GitHub-style green accents */
   --pri:#2ea043;
   --pri-2:#238636;
   --pri-3:#3fb950;
   --ok:#2ea043;

   /* Shadows and shape */
   --shadow:0 22px 40px rgba(20,35,70,.08), 0 2px 8px rgba(20,35,70,.06);
   --radius:16px;

   --w:1100px;
 }

 /* Dark mode overrides */
 @media (prefers-color-scheme: dark){
   :root{
     --bg:#0e0f13;
     --fg:#eaf2ff;
     --muted:#a9b4c9;
     --card:#121521;
     --glass:rgba(255,255,255,.06);
     --border:rgba(255,255,255,.14);
     --shadow:0 10px 30px rgba(0,0,0,.35), 0 2px 8px rgba(0,0,0,.25);
   }
 }
 
 *{box-sizing:border-box}
 html{scroll-behavior:smooth; scroll-padding-top:5rem}
 body{
    margin:0;
    background:radial-gradient(1200px 800px at 10% -10%, #0a1b2f 0%, transparent 40%), var(--bg);
    color:var(--fg);
    font-family:ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    line-height:1.65;
  }
 
  .shell{max-width:var(--w); margin-inline:auto; padding:clamp(1rem,3vw,2rem)}
 
  /* =====================
     ACCESSIBILITY
     ===================== */
  .skip-link{
    position:absolute; left:-9999px; top:0;
  }
  .skip-link:focus{
    left:0; background:var(--pri); color:#04111f; padding:.5rem .75rem; border-bottom-right-radius:.5rem;
  }
  .visually-hidden{
    position:absolute !important; width:1px; height:1px; padding:0; margin:-1px;
    overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0;
  }
 
  /* =====================
     HERO
     ===================== */
  .hero{position:relative; overflow:hidden; padding:6.5rem 0 3rem}
  .hero__bg{position:absolute; inset:0; pointer-events:none}
  .orb{position:absolute; filter:blur(30px); border-radius:50%}
  .orb-a{width:520px;height:520px; left:-120px; top:-140px; background:radial-gradient(circle at 30% 40%, #9be9a8, transparent 60%), radial-gradient(circle at 70% 70%, #3fb950, transparent 60%)}
  .orb-b{width:380px;height:380px; right:-140px; top:60px; background:radial-gradient(circle at 40% 50%, #2ea043, transparent 60%), radial-gradient(circle at 70% 70%, #9be9a8, transparent 60%)}
  .orb-c{width:260px;height:260px; left:40%; bottom:-120px; background:radial-gradient(circle at 50% 50%, #238636, transparent 60%)}
  .grain{position:absolute; inset:-200%; background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'%3E%3Cfilter id='n'%3E%3CfeTurbulence baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'%3E%3C/feColorMatrix%3E%3CfeComponentTransfer%3E%3CfeFuncA type='table' tableValues='0 0 .05 .15 0'/%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='.06'/%3E%3C/svg%3E"); opacity:.35; mix-blend-mode:overlay}
 
  .hero__badge{
    width:max-content;
    padding:.4rem .7rem;
    border-radius:999px;
    background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
    border:1px solid var(--border);
    backdrop-filter:blur(10px);
    box-shadow:var(--shadow);
    font-weight:600;
    letter-spacing:.2px;
  }
 
  .hero__title{
    margin:.8rem 0 .2rem;
    font-size:clamp(2rem,3vw + 1rem,3.1rem);
    line-height:1.15;
  }
  .grad{
    background:linear-gradient(90deg, var(--pri), var(--pri-2), var(--pri-3));
    -webkit-background-clip:text; background-clip:text; color:transparent;
  }
  .hero__tag{margin:.25rem 0 1.2rem; color:var(--muted); font-size:1.05rem}
 
  .tabs{
    display:flex; gap:.6rem; flex-wrap:wrap;
    background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
    border:1px solid var(--border);
    border-radius:999px; padding:.4rem;
    backdrop-filter:blur(10px);
    position:sticky; top:.75rem; z-index:20;
  }
  .tab{
    text-decoration:none; color:var(--muted);
    padding:.45rem .85rem; border-radius:999px;
  }
  .tab:hover,.tab:focus-visible{
    background:rgba(125,193,255,.16); color:var(--fg);
    outline:none;
  }
 
  /* =====================
     CORE LAYOUT
     ===================== */
  .main{margin-top:1rem}
  .section{margin:clamp(1.2rem,4vw,2.2rem) 0}
  .kicker{font-size:clamp(1.2rem,1.4vw + .6rem,1.6rem); margin:.2rem 0 .6rem}
  .section__title{margin:.1rem 0 .5rem; font-size:clamp(1.3rem,1.6vw + .6rem,1.8rem)}
  .note{color:var(--muted); font-size:.95rem}
 
  .grid.two{display:grid; gap:clamp(.9rem,2vw,1.25rem); grid-template-columns:1.2fr .8fr}
  .grid.three{display:grid; gap:clamp(.9rem,2vw,1.25rem); grid-template-columns:repeat(3,minmax(0,1fr))}
  @media (max-width:980px){ .grid.two, .grid.three{grid-template-columns:1fr} }
 
  .card{
    background:linear-gradient(180deg, var(--glass), transparent 130%);
    border:1px solid var(--border);
    border-radius:var(--radius);
    padding:clamp(1rem,2vw,1.25rem);
    box-shadow:var(--shadow);
  }
  .card.contrast{background:linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.04))}
  .card.glass{backdrop-filter:blur(8px)}
 
  .stats{
    display:grid; grid-template-columns:repeat(4,1fr); gap:.6rem; align-items:stretch;
  }
  .stat{
    background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
    border:1px solid var(--border); border-radius:12px; padding:.7rem .8rem;
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    text-align:center;
  }
  .stat__num{font-weight:800; font-size:1.4rem; display:block}
  .stat__label{display:block}
  .mini{font-size:.7rem}
  .muted{color:var(--muted)}
  .small{font-size:.95rem}
  .list{margin:.2rem 0 .2rem 1rem}
  .tight{margin:.2rem 0 .2rem 1rem; line-height:1.5}
  .tight li{margin-bottom:.25rem}
 
  /* =====================
     BENTO CARDS
     ===================== */

  .bento{margin-bottom:1rem}
  .bento__head{margin-bottom:.75rem}
  .bento__grid{display:grid; gap:clamp(.8rem,1.8vw,1.2rem); grid-template-columns:1fr; margin-bottom:.8rem}
  @media (max-width:980px){ .bento__grid{grid-template-columns:1fr} }
 
  /* ===== DECK (ANKI EXPANDED) ===== */
  .deck{
   display:grid;
   grid-template-columns:1fr; /* single column list */
   gap:.8rem;
  }
  .anki{
    display:block;
  }
  .anki .face{
   position:relative; min-height:120px; border-radius:14px; border:1px solid var(--border);
   padding:1rem; box-shadow:var(--shadow); background:var(--card);
   transition:box-shadow .3s ease;
  }
  .anki .back{
   display:flex; flex-direction:column; gap:.6rem;
  }
  .anki:hover .face{box-shadow:0 18px 36px rgba(0,0,0,.15)}
  /* details/summary toggling */
  .anki{position:relative}
  .anki summary{list-style:none; cursor:pointer}
  .anki summary::-webkit-details-marker{display:none}
  /* center content on both faces */
  .anki .face{display:grid; place-items:center; text-align:center}
  /* show only one face at a time */
  .anki .back{display:none}
  .anki[open] .back{display:grid}
  /* small chip to close when open */
  .anki[open] > summary{position:absolute; top:.5rem; right:.5rem; background:transparent; padding:.25rem .5rem; border-radius:8px; color:var(--muted)}
  .anki[open] > summary::after{content:"\2190\00A0Ver pregunta"}
  .anki[open] > summary > *{display:none}
  .anki[open] > summary:hover{color:var(--fg); text-decoration:underline}
  .anki summary:focus-visible{outline:2px solid var(--pri); outline-offset:4px}
  .grade{
    display:grid; grid-template-columns:repeat(4,1fr); gap:.35rem; margin-top:.4rem;
  }
  .grade span{
    text-align:center; font-size:.8rem; padding:.35rem .4rem; border:1px dashed var(--border);
    border-radius:999px; background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.01));
  }
 
  /* ===== HEATMAP ===== */
 
  .heat__title{margin:.1rem 0 .6rem}
  .heat__grid{
    --cols:20; --rows:8;
    display:grid; grid-template-columns:repeat(var(--cols), 12px);
    grid-auto-rows:12px; gap:4px; width:max-content; padding:.5rem; border-radius:12px;
    background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
    border:1px solid var(--border);
  }
  .heat__grid span{width:12px;height:12px;border-radius:3px; background:#ebedf0}
  .c0{background:#ebedf0 !important}
  .c1{background:#9be9a8 !important}
  .c2{background:#40c463 !important}
  .c3{background:#30a14e !important}
  .c4{background:#216e39 !important}
  .legend{
    margin-top:.6rem; display:grid; gap:.25rem;
    grid-template-columns:repeat(2, minmax(0,1fr));
    color:var(--muted); font-size:.95rem;
  }
 
  /* ===== CALL OUT ===== */
  .callout{
    margin-top:.9rem;
    border-left:4px solid var(--pri);
    background:linear-gradient(90deg, rgba(125,193,255,.12), transparent 60%);
    padding:.75rem .9rem; border-radius:12px;
  }
  .callout small{display:block; color:var(--muted)}
 
  /* ===== BOARD (TIME BLOCKING) ===== */
  .board{
   position:relative; overflow-x:auto; overflow-y:hidden; padding-bottom:1.2rem;
   background:linear-gradient(135deg, rgba(255,255,255,.04) 0%, rgba(255,255,255,.01) 100%);
   border:1px solid var(--border); border-radius:18px; padding:1.25rem 4.5rem 1.25rem 1.25rem;
   display:flex; gap:.9rem;
   scroll-behavior:smooth;
   scrollbar-width:thin;
  }
  .board::-webkit-scrollbar{height:8px}
  .board::-webkit-scrollbar-track{background:transparent}
  .board::-webkit-scrollbar-thumb{background:var(--border); border-radius:4px}
  .board::-webkit-scrollbar-thumb:hover{background:var(--muted)}
  
  .board .col{
   flex:1; min-width:145px; max-width:180px;
   display:flex; flex-direction:column;
  }
  .board .col h4{
   margin:.2rem 0 .6rem; font-size:.95rem; font-weight:600;
   color:var(--fg); text-align:center;
  }
  .lane{
   position:relative; height:352px; /* 8h * 44px (9:00–17:00) */
   border-radius:10px; border:1px solid var(--border);
   background:
     repeating-linear-gradient(180deg, transparent 0 44px, rgba(255,255,255,.02) 44px 45px);
   padding:0;
   transition:background .2s ease;
  }
  .lane:hover{background-color:rgba(255,255,255,.01)}
  
  .block{
   position:absolute; left:.4rem; right:.4rem;
   border-radius:8px; 
   padding:.5rem .65rem; font-size:.875rem; 
   display:flex; align-items:center; justify-content:center;
   line-height:1.3; overflow:hidden; word-wrap:break-word;
   font-weight:500; text-align:center;
   transition:all .2s ease;
   cursor:default;
   box-shadow:0 1px 3px rgba(0,0,0,.08), 0 1px 2px rgba(0,0,0,.06);
  }
  .block:hover{
   transform:translateY(-1px);
   box-shadow:0 4px 8px rgba(0,0,0,.12), 0 2px 4px rgba(0,0,0,.08);
  }
  
  /* Activity type colors - modern & minimal */
  .block.deep{
   background:linear-gradient(135deg, rgba(35,134,54,.22) 0%, rgba(35,134,54,.18) 100%);
   border:1px solid rgba(35,134,54,.35);
   color:var(--fg);
  }
  .block.learning{
   background:linear-gradient(135deg, rgba(251,146,60,.18) 0%, rgba(251,146,60,.14) 100%);
   border:1px solid rgba(251,146,60,.3);
   color:var(--fg);
  }
  .block.review{
   background:linear-gradient(135deg, rgba(251,191,36,.18) 0%, rgba(251,191,36,.14) 100%);
   border:1px solid rgba(251,191,36,.3);
   color:var(--fg);
  }
  .block.planning{
   background:linear-gradient(135deg, rgba(96,165,250,.18) 0%, rgba(96,165,250,.14) 100%);
   border:1px solid rgba(96,165,250,.3);
   color:var(--fg);
  }
  .block.reading{
   background:linear-gradient(135deg, rgba(147,197,253,.18) 0%, rgba(147,197,253,.14) 100%);
   border:1px solid rgba(147,197,253,.3);
   color:var(--fg);
  }
  .block.project{
   background:linear-gradient(135deg, rgba(168,85,247,.18) 0%, rgba(168,85,247,.14) 100%);
   border:1px solid rgba(168,85,247,.3);
   color:var(--fg);
  }
  .block.meeting{
   background:linear-gradient(135deg, rgba(148,163,184,.18) 0%, rgba(148,163,184,.14) 100%);
   border:1px solid rgba(148,163,184,.3);
   color:var(--fg);
  }
 
  /* Time → vertical placement (44px per hour, 9:00 = 0) */
  :root{ --h:44px } /* hour height */
  .t0900{ top: 0; }
  .t1000{ top: calc(1 * var(--h)); }
  .t1030{ top: calc(1.5 * var(--h)); }
  .t1100{ top: calc(2 * var(--h)); }
  .t1130{ top: calc(2.5 * var(--h)); }
  .t1200{ top: calc(3 * var(--h)); }
  .t1230{ top: calc(3.5 * var(--h)); }
  .t1300{ top: calc(4 * var(--h)); }
  .t1330{ top: calc(4.5 * var(--h)); }
  .t1400{ top: calc(5 * var(--h)); }
  .t1430{ top: calc(5.5 * var(--h)); }
  .t1500{ top: calc(6 * var(--h)); }
  .t1530{ top: calc(6.5 * var(--h)); }
  .t1600{ top: calc(7 * var(--h)); }
  .t1630{ top: calc(7.5 * var(--h)); }
  .t1700{ top: calc(8 * var(--h)); }
 
  /* Heights for time blocks (calculated from time differences) */
  .t0900.t1000{ height: calc(1 * var(--h)); }      /* 1 hour */
  .t0900.t1030{ height: calc(1.5 * var(--h)); }    /* 1.5 hours */
  .t0900.t1100{ height: calc(2 * var(--h)); }      /* 2 hours */
  .t0900.t1200{ height: calc(3 * var(--h)); }      /* 3 hours */
  .t1000.t1200{ height: calc(2 * var(--h)); }      /* 2 hours */
  .t1030.t1230{ height: calc(2 * var(--h)); }      /* 2 hours */
  .t1100.t1300{ height: calc(2 * var(--h)); }      /* 2 hours */
  .t1130.t1400{ height: calc(2.5 * var(--h)); }    /* 2.5 hours */
  .t1300.t1500{ height: calc(2 * var(--h)); }      /* 2 hours */
  .t1300.t1700{ height: calc(4 * var(--h)); }      /* 4 hours */
  .t1330.t1630{ height: calc(3 * var(--h)); }      /* 3 hours */
  .t1400.t1600{ height: calc(2 * var(--h)); }      /* 2 hours */
  .t1430.t1700{ height: calc(2.5 * var(--h)); }    /* 2.5 hours */
  .t1500.t1700{ height: calc(2 * var(--h)); }      /* 2 hours */
  .t1530.t1700{ height: calc(1.5 * var(--h)); }    /* 1.5 hours */
 
  .ruler{
   position:absolute; right:1.25rem; top:calc(1.25rem + 1.6rem); margin:0; padding:0;
   list-style:none; display:grid; gap:calc(var(--h) - 2px);
   height:352px; width:max-content; color:var(--muted); font-size:.8rem;
   font-weight:500; letter-spacing:.02em;
   text-align:right;
   pointer-events:none;
  }

  /* Responsive adjustments for mobile */
  @media (max-width: 768px) {
    .board {
      padding:1rem 3.5rem 1rem 1rem;
      gap:.75rem;
    }
    .board .col {
      min-width:130px;
      max-width:150px;
    }
    .board .col h4 {
      font-size:.85rem;
    }
    .block {
      font-size:.8rem;
      padding:.4rem .5rem;
    }
    .ruler {
      font-size:.75rem;
      right:.75rem;
      top:calc(1rem + 1.5rem);
    }
  }
  
  @media (max-width: 480px) {
    .board {
      padding:1rem 3rem 1rem .75rem;
      gap:.5rem;
    }
    .board .col {
      min-width:110px;
      max-width:130px;
    }
    .board .col h4 {
      font-size:.8rem;
    }
    .block {
      font-size:.75rem;
      padding:.35rem .45rem;
    }
    .ruler {
      font-size:.7rem;
      right:.5rem;
    }
  }

  /* ===== ABP FLOW ===== */
  .abp-layout{display:grid; grid-template-columns:1.5fr .9fr; gap:1.5rem; margin-top:1rem}
  @media (max-width: 960px){.abp-layout{grid-template-columns:1fr}}
  
  .abp-flow{display:flex; flex-direction:column; gap:1rem; position:relative}
  .abp-step{display:flex; gap:.85rem; align-items:center; padding:1rem;
    border-radius:14px; background:var(--panel);
    border:1px solid var(--border); position:relative;
    transition:all .2s ease}
  .abp-step:hover{transform:translateX(2px); box-shadow:var(--shadow)}
  .abp-step > div{flex:1}
  .abp-step h4{margin:0 0 .35rem; font-size:1.05rem; font-weight:600; text-align:left}
  .abp-step p{margin:0; color:var(--muted); font-size:.9rem; line-height:1.4; text-align:left}
  .abp-tag{flex:0 0 auto; padding:.5rem .75rem; border-radius:10px;
    font-weight:700; font-size:.8rem; letter-spacing:.02em; color:var(--fg);
    border:1px solid rgba(255,255,255,.2);
    display:flex; align-items:center; justify-content:center}
  
  /* Step-specific colors (adapted to site palette) */
  .abp-s1{border-left:3px solid rgba(168,85,247,.5)}
  .abp-s1 .abp-tag{background:rgba(168,85,247,.15); border-color:rgba(168,85,247,.3)}
  
  .abp-s2{border-left:3px solid rgba(6,182,212,.5)}
  .abp-s2 .abp-tag{background:rgba(6,182,212,.15); border-color:rgba(6,182,212,.3)}
  
  .abp-s3{border-left:3px solid rgba(34,197,94,.5)}
  .abp-s3 .abp-tag{background:rgba(34,197,94,.15); border-color:rgba(34,197,94,.3)}
  
  .abp-s4{border-left:3px solid rgba(245,158,11,.5)}
  .abp-s4 .abp-tag{background:rgba(245,158,11,.15); border-color:rgba(245,158,11,.3)}
  
  .abp-s5{border-left:3px solid rgba(236,72,153,.5)}
  .abp-s5 .abp-tag{background:rgba(236,72,153,.15); border-color:rgba(236,72,153,.3)}
  
  .abp-s6{border-left:3px solid rgba(96,165,250,.5)}
  .abp-s6 .abp-tag{background:rgba(96,165,250,.15); border-color:rgba(96,165,250,.3)}
  
  .abp-s7{border-left:3px solid rgba(148,163,184,.5)}
  .abp-s7 .abp-tag{background:rgba(148,163,184,.15); border-color:rgba(148,163,184,.3)}
  
  /* Vertical connectors */
  .abp-flow .abp-step:not(:last-child)::after{
    content:""; position:absolute; left:2rem; top:calc(100% + .25rem);
    width:2px; height:1rem; background:var(--border);
  }
  
  /* Support panels */
  .abp-support{display:flex; flex-direction:column; gap:1rem}
  .abp-panel{padding:1.1rem; border-radius:14px; background:var(--panel);
    border:1px solid var(--border)}
  .abp-panel strong{display:block; margin-bottom:.5rem; font-size:1rem}
  .abp-panel p{margin:.35rem 0 .5rem; color:var(--muted); font-size:.88rem; line-height:1.4}
  .abp-panel ul{margin:.5rem 0 0 1.1rem; padding:0; color:var(--muted);
    font-size:.88rem; line-height:1.6}
  .abp-panel ul em{color:var(--fg); font-weight:600; font-style:normal}
  .abp-pill{display:inline-block; padding:.35rem .6rem; border-radius:999px;
    background:rgba(255,255,255,.06); border:1px solid var(--border);
    font-weight:600; font-size:.75rem; margin-right:.4rem; margin-bottom:.4rem}
  
  /* ===== STEPS / RING ===== */
  .steps{display:grid; gap:.6rem}
  .step{
    display:flex; align-items:center; gap:.6rem;
    background:linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
    border:1px solid var(--border); border-radius:12px; padding:.6rem .75rem;
  }
  .step span{
    width:28px;height:28px; border-radius:50%;
    display:grid; place-items:center; font-weight:800;
    color:#04111f; background:linear-gradient(180deg, var(--pri), var(--pri-2));
  }
 
  .ring{
    --size:120px;
    width:var(--size); height:var(--size); border-radius:50%;
    background:
      radial-gradient(farthest-side, var(--card) 68%, transparent 70%),
      conic-gradient(var(--ok) calc(var(--pct)*1turn), rgba(255,255,255,.12) 0);
    display:grid; place-items:center; margin:.8rem 0 0;
  }
  .ring strong{font-size:1.2rem}
  .ring span{font-size:.8rem; color:var(--muted)}
 
  /* ===== FLOW ===== */
  .flow{display:grid; gap:.8rem; place-items:center}
  .flow__row{display:flex; gap:.6rem; align-items:center; justify-content:center}
  .pill{
    padding:.5rem .9rem; border-radius:999px;
    border:1px solid var(--border); background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
  }
  .arrow{opacity:.6}
 
  /* ===== TAGS + TABLE ===== */
  .tags{display:inline-flex; gap:.35rem; margin-left:.35rem; vertical-align:middle}
  .tag{padding:.15rem .5rem; border-radius:999px; border:1px solid var(--border); background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02)); font-size:.8rem}
  .table{width:100%; border-collapse:collapse}
  .table th, .table td{border:1px solid var(--border); padding:.5rem .6rem; text-align:left}
  .table thead th{background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02))}
  .table tr:nth-child(even){background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.01))}
 
  /* ===== FOOTER ===== */
  .footer{
    border-top:1px solid var(--border);
    margin-top:clamp(1.5rem,4vw,3rem); padding:1.1rem 0; color:var(--muted);
  }
 
  /* ===== REDUCED MOTION ===== */
  @media (prefers-reduced-motion: reduce){
    *{animation-duration:.01ms !important; transition-duration:.01ms !important; scroll-behavior:auto !important}
  }


