/* =====================
   THEME & TOKENS
   ===================== */
  :root{
   /* Light-first palette */
   --bg:#fafbff;
   --fg:#0f1320;
   --muted:#5d687d;
   --card:#ffffff;
   --glass:rgba(20,30,60,.06);
   --border:rgba(10,20,40,.10);

   /* GitHub-style green accents */
   --pri:#2ea043;
   --pri-2:#238636;
   --pri-3:#3fb950;
   --ok:#2ea043;

   /* Shadows and shape */
   --shadow:0 22px 40px rgba(20,35,70,.08), 0 2px 8px rgba(20,35,70,.06);
   --radius:16px;

   --w:1100px;
 }

 /* Dark mode overrides */
 @media (prefers-color-scheme: dark){
   :root{
     --bg:#0e0f13;
     --fg:#eaf2ff;
     --muted:#a9b4c9;
     --card:#121521;
     --glass:rgba(255,255,255,.06);
     --border:rgba(255,255,255,.14);
     --shadow:0 10px 30px rgba(0,0,0,.35), 0 2px 8px rgba(0,0,0,.25);
   }
 }
 
  *{box-sizing:border-box}
  html{scroll-behavior:smooth}
  body{
    margin:0;
    background:radial-gradient(1200px 800px at 10% -10%, #0a1b2f 0%, transparent 40%), var(--bg);
    color:var(--fg);
    font-family:ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    line-height:1.65;
  }
 
  .shell{max-width:var(--w); margin-inline:auto; padding:clamp(1rem,3vw,2rem)}
 
  /* =====================
     ACCESSIBILITY
     ===================== */
  .skip-link{
    position:absolute; left:-9999px; top:0;
  }
  .skip-link:focus{
    left:0; background:var(--pri); color:#04111f; padding:.5rem .75rem; border-bottom-right-radius:.5rem;
  }
  .visually-hidden{
    position:absolute !important; width:1px; height:1px; padding:0; margin:-1px;
    overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0;
  }
 
  /* =====================
     HERO
     ===================== */
  .hero{position:relative; overflow:hidden; padding:6.5rem 0 3rem}
  .hero__bg{position:absolute; inset:0; pointer-events:none}
  .orb{position:absolute; filter:blur(30px); border-radius:50%}
  .orb-a{width:520px;height:520px; left:-120px; top:-140px; background:radial-gradient(circle at 30% 40%, #9be9a8, transparent 60%), radial-gradient(circle at 70% 70%, #3fb950, transparent 60%)}
  .orb-b{width:380px;height:380px; right:-140px; top:60px; background:radial-gradient(circle at 40% 50%, #2ea043, transparent 60%), radial-gradient(circle at 70% 70%, #9be9a8, transparent 60%)}
  .orb-c{width:260px;height:260px; left:40%; bottom:-120px; background:radial-gradient(circle at 50% 50%, #238636, transparent 60%)}
  .grain{position:absolute; inset:-200%; background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'%3E%3Cfilter id='n'%3E%3CfeTurbulence baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'%3E%3C/feColorMatrix%3E%3CfeComponentTransfer%3E%3CfeFuncA type='table' tableValues='0 0 .05 .15 0'/%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='.06'/%3E%3C/svg%3E"); opacity:.35; mix-blend-mode:overlay}
 
  .hero__badge{
    width:max-content;
    padding:.4rem .7rem;
    border-radius:999px;
    background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
    border:1px solid var(--border);
    backdrop-filter:blur(10px);
    box-shadow:var(--shadow);
    font-weight:600;
    letter-spacing:.2px;
  }
 
  .hero__title{
    margin:.8rem 0 .2rem;
    font-size:clamp(2rem,3vw + 1rem,3.1rem);
    line-height:1.15;
  }
  .grad{
    background:linear-gradient(90deg, var(--pri), var(--pri-2), var(--pri-3));
    -webkit-background-clip:text; background-clip:text; color:transparent;
  }
  .hero__tag{margin:.25rem 0 1.2rem; color:var(--muted); font-size:1.05rem}
 
  .tabs{
    display:flex; gap:.6rem; flex-wrap:wrap;
    background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
    border:1px solid var(--border);
    border-radius:999px; padding:.4rem;
    backdrop-filter:blur(10px);
    position:sticky; top:.75rem; z-index:20;
  }
  .tab{
    text-decoration:none; color:var(--muted);
    padding:.45rem .85rem; border-radius:999px;
  }
  .tab:hover,.tab:focus-visible{
    background:rgba(125,193,255,.16); color:var(--fg);
    outline:none;
  }
 
  /* =====================
     CORE LAYOUT
     ===================== */
  .main{margin-top:1rem}
  .section{margin:clamp(1.2rem,4vw,2.2rem) 0}
  .kicker{font-size:clamp(1.2rem,1.4vw + .6rem,1.6rem); margin:.2rem 0 .6rem}
  .section__title{margin:.1rem 0 .5rem; font-size:clamp(1.3rem,1.6vw + .6rem,1.8rem)}
  .note{color:var(--muted); font-size:.95rem}
 
  .grid.two{display:grid; gap:clamp(.9rem,2vw,1.25rem); grid-template-columns:1.2fr .8fr}
  .grid.three{display:grid; gap:clamp(.9rem,2vw,1.25rem); grid-template-columns:repeat(3,minmax(0,1fr))}
  @media (max-width:980px){ .grid.two, .grid.three{grid-template-columns:1fr} }
 
  .card{
    background:linear-gradient(180deg, var(--glass), transparent 130%);
    border:1px solid var(--border);
    border-radius:var(--radius);
    padding:clamp(1rem,2vw,1.25rem);
    box-shadow:var(--shadow);
  }
  .card.contrast{background:linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.04))}
  .card.glass{backdrop-filter:blur(8px)}
 
  .stats{
    display:grid; grid-template-columns:repeat(4,1fr); gap:.6rem; align-items:stretch;
  }
  .stat{
    background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
    border:1px solid var(--border); border-radius:12px; padding:.7rem .8rem; text-align:center;
  }
  .stat__num{font-weight:800; font-size:1.4rem; display:block}
  .mini{font-size:.7rem}
  .muted{color:var(--muted)}
  .small{font-size:.95rem}
  .list{margin:.2rem 0 .2rem 1rem}
 
  /* =====================
     BENTO CARDS
     ===================== */
 
  .bento__head{margin-bottom:.75rem}
  .bento__grid{display:grid; gap:clamp(.8rem,1.8vw,1.2rem); grid-template-columns:1fr}
  @media (max-width:980px){ .bento__grid{grid-template-columns:1fr} }
 
  /* ===== DECK (ANKI EXPANDED) ===== */
  .deck{
   display:grid;
   grid-template-columns:1fr; /* single column list */
   gap:.8rem;
  }
  .anki{
    display:block;
  }
  .anki .face{
   position:relative; min-height:120px; border-radius:14px; border:1px solid var(--border);
   padding:1rem; box-shadow:var(--shadow); background:var(--card);
   transition:box-shadow .3s ease;
  }
  .anki .back{
   display:flex; flex-direction:column; gap:.6rem;
  }
  .anki:hover .face{box-shadow:0 18px 36px rgba(0,0,0,.15)}
  /* details/summary toggling */
  .anki{position:relative}
  .anki summary{list-style:none; cursor:pointer}
  .anki summary::-webkit-details-marker{display:none}
  /* center content on both faces */
  .anki .face{display:grid; place-items:center; text-align:center}
  /* show only one face at a time */
  .anki .back{display:none}
  .anki[open] .back{display:grid}
  /* small chip to close when open */
  .anki[open] > summary{position:absolute; top:.5rem; right:.5rem; background:transparent; padding:.25rem .5rem; border-radius:8px; color:var(--muted)}
  .anki[open] > summary::after{content:"\2190\00A0Ver pregunta"}
  .anki[open] > summary > *{display:none}
  .anki[open] > summary:hover{color:var(--fg); text-decoration:underline}
  .grade{
    display:grid; grid-template-columns:repeat(4,1fr); gap:.35rem; margin-top:.4rem;
  }
  .grade span{
    text-align:center; font-size:.8rem; padding:.35rem .4rem; border:1px dashed var(--border);
    border-radius:999px; background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.01));
  }
 
  /* ===== HEATMAP ===== */
 
  .heat__title{margin:.1rem 0 .6rem}
  .heat__grid{
    --cols:20; --rows:8;
    display:grid; grid-template-columns:repeat(var(--cols), 12px);
    grid-auto-rows:12px; gap:4px; width:max-content; padding:.5rem; border-radius:12px;
    background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
    border:1px solid var(--border);
  }
  .heat__grid span{width:12px;height:12px;border-radius:3px; background:#ebedf0}
  .c0{background:#ebedf0 !important}
  .c1{background:#9be9a8 !important}
  .c2{background:#40c463 !important}
  .c3{background:#30a14e !important}
  .c4{background:#216e39 !important}
  .legend{
    margin-top:.6rem; display:grid; gap:.25rem;
    grid-template-columns:repeat(2, minmax(0,1fr));
    color:var(--muted); font-size:.95rem;
  }
 
  /* ===== CALL OUT ===== */
  .callout{
    margin-top:.9rem;
    border-left:4px solid var(--pri);
    background:linear-gradient(90deg, rgba(125,193,255,.12), transparent 60%);
    padding:.75rem .9rem; border-radius:12px;
  }
  .callout small{display:block; color:var(--muted)}
 
  /* ===== BOARD (TIME BLOCKING) ===== */
  .board{
   position:relative; overflow-x:auto; overflow-y:hidden; padding-bottom:1.2rem;
   background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
   border:1px solid var(--border); border-radius:16px; padding:1rem;
   display:flex; gap:.8rem;
  }
  .board .col{
   min-width:220px; display:flex; flex-direction:column; flex:0 0 auto;
  }
  .board .col h4{margin:.2rem 0 .5rem}
  .lane{
   position:relative; height:352px; /* 8h * 44px (9:00–17:00) */
   border-radius:12px; border:1px dashed var(--border);
   background:
     repeating-linear-gradient(180deg, transparent 0 44px, rgba(255,255,255,.04) 44px 45px);
   padding:.25rem;
  }
  .block{
   position:absolute; left:.35rem; right:.35rem;
   border-radius:10px; background:rgba(63,185,80,.16);
   border:1px solid rgba(63,185,80,.32);
   padding:.45rem .6rem; font-size:.9rem; box-shadow:var(--shadow);
   display:flex; align-items:center; line-height:1.2; overflow:hidden; word-wrap:break-word;
  }
  .block.deep{background:rgba(35,134,54,.20); border-color:rgba(35,134,54,.38)}
 
  /* Time → vertical placement (quick mapping, 44px per hour) */
  :root{ --h:44px } /* hour height */
  .t0500{ top: 0; }
  .t0515{ top: calc(0.25 * var(--h)); }
  .t0545{ top: calc(0.75 * var(--h)); }
  .t0625{ top: calc(1.416 * var(--h)); }
  .t0630{ top: calc(1.5 * var(--h)); }
  .t0745{ top: calc(2.75 * var(--h)); }
  .t0815{ top: calc(3.25 * var(--h)); }
  .t1000{ top: calc(5 * var(--h)); }
  .t1200{ top: calc(7 * var(--h)); }
  .t1300{ top: calc(8 * var(--h)); }
  .t1330{ top: calc(8.5 * var(--h)); }
  .t1400{ top: calc(9 * var(--h)); }
  .t1515{ top: calc(10.25 * var(--h)); }
  .t1530{ top: calc(10.5 * var(--h)); }
  .t1630{ top: calc(11.5 * var(--h)); }
  .t1645{ top: calc(11.75 * var(--h)); }
  .t1700{ top: calc(12 * var(--h)); }
  /* Simplified 9–17 mapping overrides */
  .t0900{ top: 0; }
  .t1200{ top: calc(3 * var(--h)); }
  .t1300{ top: calc(4 * var(--h)); }
  .t1700{ top: calc(8 * var(--h)); }
 
  /* Heights from start/end utility (same 44px scale) */
  .t0515.t0815{ height: calc((3.25 - 0.25) * var(--h)); }
  .t0500.t0515{ height: calc((0 - 0) * var(--h) + (var(--h) * .25)); }
  .t0545.t0625{ height: calc((1.416 - .75) * var(--h)); }
  .t0630.t0745{ height: calc((2.75 - 1.5) * var(--h)); }
  .t1000.t1200{ height: calc((7 - 5) * var(--h)); }
  .t1200.t1400{ height: calc((9 - 7) * var(--h)); }
  .t1515.t1645{ height: calc((11.75 - 10.25) * var(--h)); }
  .t1000.t1300{ height: calc((8 - 5) * var(--h)); }
  .t1330.t1400{ height: calc((9 - 8.5) * var(--h)); }
  .t1530.t1630{ height: calc((11.5 - 10.5) * var(--h)); }
  .t1630.t1700{ height: calc((12 - 11.5) * var(--h)); }
  /* Heights for simplified blocks */
  .t0900.t1200{ height: calc((3 - 0) * var(--h)); }
  .t1300.t1700{ height: calc((8 - 4) * var(--h)); }
 
  .ruler{
   position:absolute; inset:1rem 1rem auto auto; margin:0; padding:0;
   list-style:none; display:grid; gap:calc(var(--h) - 2px);
   height:352px; width:max-content; color:var(--muted); font-size:.85rem;
   transform:translateY(2.1rem); /* align with lane grid */
  }
 
  /* ===== STEPS / RING ===== */
  .steps{display:grid; gap:.6rem}
  .step{
    display:flex; align-items:center; gap:.6rem;
    background:linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
    border:1px solid var(--border); border-radius:12px; padding:.6rem .75rem;
  }
  .step span{
    width:28px;height:28px; border-radius:50%;
    display:grid; place-items:center; font-weight:800;
    color:#04111f; background:linear-gradient(180deg, var(--pri), var(--pri-2));
  }
 
  .ring{
    --size:120px;
    width:var(--size); height:var(--size); border-radius:50%;
    background:
      radial-gradient(farthest-side, var(--card) 68%, transparent 70%),
      conic-gradient(var(--ok) calc(var(--pct)*1turn), rgba(255,255,255,.12) 0);
    display:grid; place-items:center; margin:.8rem 0 0;
  }
  .ring strong{font-size:1.2rem}
  .ring span{font-size:.8rem; color:var(--muted)}
 
  /* ===== FLOW ===== */
  .flow{display:grid; gap:.8rem; place-items:center}
  .flow__row{display:flex; gap:.6rem; align-items:center; justify-content:center}
  .pill{
    padding:.5rem .9rem; border-radius:999px;
    border:1px solid var(--border); background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
  }
  .arrow{opacity:.6}
 
  /* ===== TAGS + TABLE ===== */
  .tags{display:inline-flex; gap:.35rem; margin-left:.35rem; vertical-align:middle}
  .tag{padding:.15rem .5rem; border-radius:999px; border:1px solid var(--border); background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02)); font-size:.8rem}
  .table{width:100%; border-collapse:collapse}
  .table th, .table td{border:1px solid var(--border); padding:.5rem .6rem; text-align:left}
  .table thead th{background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02))}
  .table tr:nth-child(even){background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.01))}
 
  /* ===== FOOTER ===== */
  .footer{
    border-top:1px solid var(--border);
    margin-top:clamp(1.5rem,4vw,3rem); padding:1.1rem 0; color:var(--muted);
  }
 
  /* ===== REDUCED MOTION ===== */
  @media (prefers-reduced-motion: reduce){
    *{animation-duration:.01ms !important; transition-duration:.01ms !important; scroll-behavior:auto !important}
  }


